(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),l=(a(92),a(49)),i=a(11),s=a.n(i),p=a(22),u=a(33),d=a(34),m=a(39),f=a(35),h=a(38),g=(a(95),a(212)),w=a(79),v=a(74),b=a.n(v),E=a(76),k=a.n(E),x=a(78),O=a.n(x),y=a(77),M=a.n(y),j=a(47),S=a.n(j);var _=Object(w.withStyles)({card:{maxWidth:345},media:{height:140}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(b.a,{className:t.card},r.a.createElement(k.a,null,r.a.createElement(M.a,{className:t.media,image:e.opp.cover_photo_urls,title:e.opp.title}),r.a.createElement(O.a,null,r.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.opp.title),r.a.createElement(S.a,{component:"p"},r.a.createElement("h3",null," Partner : ",e.opp.branch.name),r.a.createElement("h4",{align:"left"}," Location : ",e.opp.branch.location," "),r.a.createElement("h4",{align:"right"}," Duration : ",e.opp.branch.duration))))))}),C=a(80),B=a(213),H=a(211),A=a(26),L=a.n(A),N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1},a.getSyle=function(){return{width:" 300px",height:"400px",float:"left",border:"1px",margin:"50px",boxShadow:" 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.19)"}},a.updateOpp=function(){var e=Object(p.a)(s.a.mark(function e(t,n,r){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.patch("http://gisapi-web-staging-1636833739.eu-west-1.elb.amazonaws.com/v2/opportunities/"+t+"?access_token=dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c",{title:n,description:r});case 3:o=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(o);case 9:a.setState({showModal:!1});case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.showModalHandler=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({showModal:!0});case 2:console.log(a.state.showModal);case 3:case"end":return e.stop()}},e)})),a.hideModalHandler=function(){a.setState({showModal:!1})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,a=this;return this.props.opps.map(function(n){return r.a.createElement("div",null,r.a.createElement("div",{style:a.getSyle(),onClick:function(){return a.showModalHandler()}},r.a.createElement(_,{key:n.id,opp:n}),r.a.createElement("p",null," "),r.a.createElement("p",null," ")),r.a.createElement(C.a,{open:a.state.showModal,onClose:function(){a.hideModalHandler()}},r.a.createElement(B.a,null,r.a.createElement("p",null,"Edit Opportunity"),r.a.createElement("p",null,"title"),r.a.createElement(H.a,{title:!0,onChange:function(t){return e=t.target.value}}),r.a.createElement("p",null),r.a.createElement("p",null,"Desc"),r.a.createElement(H.a,{description:!0,onChange:function(e){return t=e.target.value}}," "),r.a.createElement("p",null),r.a.createElement(g.a,{onClick:function(){return a.updateOpp(n.id,e,t)}}," ","Edit"," "))))})}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,a.state={opps:[],current_page:1,loading:!1},a.componentDidMount=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a._isMounted=!0,document.addEventListener("scroll",a.trackScrolling),e.next=4,L.a.get("http://gisapi-web-staging-1636833739.eu-west-1.elb.amazonaws.com/v2/opportunities?access_token=dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c&page=1&per_page=26");case 4:t=e.sent,a._isMounted&&a.setState({opps:t.data.data});case 6:case"end":return e.stop()}},e)})),a.loadMore=Object(p.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a._isMounted){e.next=8;break}return a.setState({current_page:a.state.current_page+1}),e.next=4,L.a.get("http://gisapi-web-staging-1636833739.eu-west-1.elb.amazonaws.com/v2/opportunities?access_token=dd0df21c8af5d929dff19f74506c4a8153d7acd34306b9761fd4a57cfa1d483c&page="+a.state.current_page+"&per_page=26");case 4:t=e.sent,a.setState({opps:[].concat(Object(l.a)(a.state.opps),Object(l.a)(t.data.data))}),document.addEventListener("scroll",a.trackScrolling),a.setState({loading:!1});case 8:case"end":return e.stop()}},e)})),a.trackScrolling=function(){var e=document.getElementById("scrolled");a.isBottom(e)&&(a.setState({loading:!0}),a.loadMore())},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,document.removeEventListener("scroll",this.trackScrolling)}},{key:"isBottom",value:function(e){return(200-e.getBoundingClientRect().bottom)%window.innerHeight+100>window.innerHeight}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"scrolled"},r.a.createElement(N,{className:"App",opps:this.state.opps})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,a){e.exports=a(208)},92:function(e,t,a){},95:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.e80662f6.chunk.js.map